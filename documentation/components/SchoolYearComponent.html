<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>sipce-web documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">sipce-web documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>SchoolYearComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/school-year/components/school-year/school-year.component.ts</code>
</p>



    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-school-year</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./school-year.component.css</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./school-year.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#catalogs">catalogs</a>
                            </li>
                            <li>
                                <a href="#classPeriodForm">classPeriodForm</a>
                            </li>
                            <li>
                                    <span class="modifier">Optional</span>
                                <a href="#confirmModal">confirmModal</a>
                            </li>
                            <li>
                                    <span class="modifier">Optional</span>
                                <a href="#confirmSchoolYearModal">confirmSchoolYearModal</a>
                            </li>
                            <li>
                                <a href="#currentStep">currentStep</a>
                            </li>
                            <li>
                                <a href="#emptyUsers">emptyUsers</a>
                            </li>
                            <li>
                                <a href="#loading">loading</a>
                            </li>
                            <li>
                                <a href="#previousSchoolYear">previousSchoolYear</a>
                            </li>
                            <li>
                                <a href="#schoolYear">schoolYear</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#academicAssignmentsStep">academicAssignmentsStep</a>
                            </li>
                            <li>
                                <a href="#checkEmptyCoordinators">checkEmptyCoordinators</a>
                            </li>
                            <li>
                                <a href="#checkEmptyCounselors">checkEmptyCounselors</a>
                            </li>
                            <li>
                                <a href="#checkEmptyHeadTeachers">checkEmptyHeadTeachers</a>
                            </li>
                            <li>
                                <a href="#counselorsStep">counselorsStep</a>
                            </li>
                            <li>
                                <a href="#cycleCoordinatorsStep">cycleCoordinatorsStep</a>
                            </li>
                            <li>
                                <a href="#done">done</a>
                            </li>
                            <li>
                                <a href="#finalStep">finalStep</a>
                            </li>
                            <li>
                                <a href="#getSchoolYear">getSchoolYear</a>
                            </li>
                            <li>
                                <a href="#headTeachersStep">headTeachersStep</a>
                            </li>
                            <li>
                                <a href="#initClassPeriod">initClassPeriod</a>
                            </li>
                            <li>
                                <a href="#initializeCounselors">initializeCounselors</a>
                            </li>
                            <li>
                                <a href="#initializeCycleCoordinators">initializeCycleCoordinators</a>
                            </li>
                            <li>
                                <a href="#initializeHeadTeachers">initializeHeadTeachers</a>
                            </li>
                            <li>
                                <a href="#initializeShifts">initializeShifts</a>
                            </li>
                            <li>
                                <a href="#next">next</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                            <li>
                                <a href="#pre">pre</a>
                            </li>
                            <li>
                                <a href="#sendData">sendData</a>
                            </li>
                            <li>
                                <a href="#showStartConfirm">showStartConfirm</a>
                            </li>
                            <li>
                                <a href="#submitClassPeriod">submitClassPeriod</a>
                            </li>
                            <li>
                                <a href="#updateCounselors">updateCounselors</a>
                            </li>
                            <li>
                                <a href="#updateCycleCoordinators">updateCycleCoordinators</a>
                            </li>
                            <li>
                                <a href="#updateHeadTeachers">updateHeadTeachers</a>
                            </li>
                            <li>
                                <a href="#updateItem">updateItem</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(fb: <a href="https://angular.io/api/forms/FormBuilder" target="_blank">FormBuilder</a>, schoolYearService: <a href="../injectables/SchoolYearService.html">SchoolYearService</a>, message: NzMessageService, modal: NzModalService, notification: NzNotificationService)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="38" class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:38</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>fb</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/forms/FormBuilder" target="_blank" >FormBuilder</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>schoolYearService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SchoolYearService.html" target="_self" >SchoolYearService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>message</td>
                                                  
                                                        <td>
                                                                    <code>NzMessageService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>modal</td>
                                                  
                                                        <td>
                                                                    <code>NzModalService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>notification</td>
                                                  
                                                        <td>
                                                                    <code>NzNotificationService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="academicAssignmentsStep"></a>
                    <span class="name">
                        <b>
                            academicAssignmentsStep
                        </b>
                        <a href="#academicAssignmentsStep"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>academicAssignmentsStep(next: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="483"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:483</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>next</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkEmptyCoordinators"></a>
                    <span class="name">
                        <b>
                            checkEmptyCoordinators
                        </b>
                        <a href="#checkEmptyCoordinators"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>checkEmptyCoordinators()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="655"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:655</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkEmptyCounselors"></a>
                    <span class="name">
                        <b>
                            checkEmptyCounselors
                        </b>
                        <a href="#checkEmptyCounselors"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>checkEmptyCounselors()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="687"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:687</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkEmptyHeadTeachers"></a>
                    <span class="name">
                        <b>
                            checkEmptyHeadTeachers
                        </b>
                        <a href="#checkEmptyHeadTeachers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>checkEmptyHeadTeachers()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="669"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:669</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="counselorsStep"></a>
                    <span class="name">
                        <b>
                            counselorsStep
                        </b>
                        <a href="#counselorsStep"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>counselorsStep(next: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="611"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:611</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>next</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="cycleCoordinatorsStep"></a>
                    <span class="name">
                        <b>
                            cycleCoordinatorsStep
                        </b>
                        <a href="#cycleCoordinatorsStep"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>cycleCoordinatorsStep(next: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="533"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:533</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>next</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="done"></a>
                    <span class="name">
                        <b>
                            done
                        </b>
                        <a href="#done"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>done()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="408"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:408</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="finalStep"></a>
                    <span class="name">
                        <b>
                            finalStep
                        </b>
                        <a href="#finalStep"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>finalStep(next: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="650"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:650</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>next</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSchoolYear"></a>
                    <span class="name">
                        <b>
                            getSchoolYear
                        </b>
                        <a href="#getSchoolYear"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSchoolYear()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="57"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:57</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="headTeachersStep"></a>
                    <span class="name">
                        <b>
                            headTeachersStep
                        </b>
                        <a href="#headTeachersStep"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>headTeachersStep(next: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="572"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:572</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>next</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initClassPeriod"></a>
                    <span class="name">
                        <b>
                            initClassPeriod
                        </b>
                        <a href="#initClassPeriod"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initClassPeriod()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="195"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:195</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initializeCounselors"></a>
                    <span class="name">
                        <b>
                            initializeCounselors
                        </b>
                        <a href="#initializeCounselors"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initializeCounselors()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="166"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:166</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initializeCycleCoordinators"></a>
                    <span class="name">
                        <b>
                            initializeCycleCoordinators
                        </b>
                        <a href="#initializeCycleCoordinators"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initializeCycleCoordinators()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="113"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:113</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initializeHeadTeachers"></a>
                    <span class="name">
                        <b>
                            initializeHeadTeachers
                        </b>
                        <a href="#initializeHeadTeachers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initializeHeadTeachers()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="132"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:132</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initializeShifts"></a>
                    <span class="name">
                        <b>
                            initializeShifts
                        </b>
                        <a href="#initializeShifts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initializeShifts()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="90"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:90</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="next"></a>
                    <span class="name">
                        <b>
                            next
                        </b>
                        <a href="#next"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>next()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="404"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:404</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <b>
                            ngOnInit
                        </b>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="48"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:48</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pre"></a>
                    <span class="name">
                        <b>
                            pre
                        </b>
                        <a href="#pre"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>pre()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="400"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:400</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sendData"></a>
                    <span class="name">
                        <b>
                            sendData
                        </b>
                        <a href="#sendData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>sendData(next: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="462"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:462</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>next</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="showStartConfirm"></a>
                    <span class="name">
                        <b>
                            showStartConfirm
                        </b>
                        <a href="#showStartConfirm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>showStartConfirm(period: Date[], distance: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="215"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:215</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>period</td>
                                    <td>
                                            <code>Date[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>distance</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="submitClassPeriod"></a>
                    <span class="name">
                        <b>
                            submitClassPeriod
                        </b>
                        <a href="#submitClassPeriod"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>submitClassPeriod()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="201"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:201</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateCounselors"></a>
                    <span class="name">
                        <b>
                            updateCounselors
                        </b>
                        <a href="#updateCounselors"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateCounselors(content: unknown)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="350"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:350</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>content</td>
                                    <td>
                                            <code>unknown</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateCycleCoordinators"></a>
                    <span class="name">
                        <b>
                            updateCycleCoordinators
                        </b>
                        <a href="#updateCycleCoordinators"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateCycleCoordinators(content: unknown)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="326"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:326</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>content</td>
                                    <td>
                                            <code>unknown</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateHeadTeachers"></a>
                    <span class="name">
                        <b>
                            updateHeadTeachers
                        </b>
                        <a href="#updateHeadTeachers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateHeadTeachers(content: unknown)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="338"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:338</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>content</td>
                                    <td>
                                            <code>unknown</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateItem"></a>
                    <span class="name">
                        <b>
                            updateItem
                        </b>
                        <a href="#updateItem"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateItem(content: unknown)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="249"
                            class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:249</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>content</td>
                                    <td>
                                            <code>unknown</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="catalogs"></a>
                        <span class="name">
                            <b>
                            catalogs</b>
                            <a href="#catalogs"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/Catalogs.html" target="_self" >Catalogs</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:25</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="classPeriodForm"></a>
                        <span class="name">
                            <b>
                            classPeriodForm</b>
                            <a href="#classPeriodForm"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/forms/FormGroup" target="_blank" >FormGroup</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="28" class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:28</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="confirmModal"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Optional</span>
                            confirmModal</b>
                            <a href="#confirmModal"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>NzModalRef</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="29" class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:29</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="confirmSchoolYearModal"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Optional</span>
                            confirmSchoolYearModal</b>
                            <a href="#confirmSchoolYearModal"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>NzModalRef</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="38" class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:38</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="currentStep"></a>
                        <span class="name">
                            <b>
                            currentStep</b>
                            <a href="#currentStep"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>0</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="32" class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:32</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="emptyUsers"></a>
                        <span class="name">
                            <b>
                            emptyUsers</b>
                            <a href="#emptyUsers"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>literal type</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="35" class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:35</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="loading"></a>
                        <span class="name">
                            <b>
                            loading</b>
                            <a href="#loading"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:22</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="previousSchoolYear"></a>
                        <span class="name">
                            <b>
                            previousSchoolYear</b>
                            <a href="#previousSchoolYear"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/SchoolYear.html" target="_self" >SchoolYear</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="23" class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:23</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="schoolYear"></a>
                        <span class="name">
                            <b>
                            schoolYear</b>
                            <a href="#schoolYear"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/SchoolYear.html" target="_self" >SchoolYear</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/school-year/components/school-year/school-year.component.ts:24</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit } from &#x27;@angular/core&#x27;;
import { FormGroup, FormBuilder, Validators } from &#x27;@angular/forms&#x27;;

import { es } from &#x27;date-fns/locale&#x27;;
import { format, formatDistanceStrict, getYear, parseISO } from &#x27;date-fns&#x27;;
import { NzModalRef, NzModalService } from &#x27;ng-zorro-antd/modal&#x27;;
import { NzNotificationService } from &#x27;ng-zorro-antd/notification&#x27;;
import { NzMessageService } from &#x27;ng-zorro-antd/message&#x27;;

import { SchoolYear } from &#x27;./../../shared/school-year.model&#x27;;
import { SchoolYearService } from &#x27;../../shared/school-year.service&#x27;;
import { Catalogs } from &#x27;../../shared/catalogs.model&#x27;;
import { User } from &#x27;src/app/logs/shared/user-log.model&#x27;;

@Component({
  selector: &#x27;app-school-year&#x27;,
  templateUrl: &#x27;./school-year.component.html&#x27;,
  styleUrls: [&#x27;./school-year.component.css&#x27;]
})
export class SchoolYearComponent implements OnInit {
  loading &#x3D; false;
  previousSchoolYear: SchoolYear;
  schoolYear: SchoolYear;
  catalogs: Catalogs;

  // No active or draft school year
  classPeriodForm!: FormGroup;
  confirmModal?: NzModalRef;

  // Draf school year
  currentStep &#x3D; 0;

  // School year
  emptyUsers: { total: number; empty: number; valid: boolean };

  // Open school year
  confirmSchoolYearModal?: NzModalRef;

  constructor(
    private fb: FormBuilder,
    private schoolYearService: SchoolYearService,
    private message: NzMessageService,
    private modal: NzModalService,
    private notification: NzNotificationService
  ) {}

  ngOnInit(): void {
    this.schoolYear &#x3D; new SchoolYear();
    this.catalogs &#x3D; new Catalogs();
    this.initClassPeriod();
    this.getSchoolYear();

    this.emptyUsers &#x3D; { total: 0, empty: 0, valid: true };
  }

  getSchoolYear(): void {
    this.loading &#x3D; true;
    this.schoolYearService.mergeSchoolYearAndCatalogs().subscribe(
      (data) &#x3D;&gt; {
        // Previous School Year
        this.previousSchoolYear &#x3D; data[&#x27;schoolYear&#x27;][1];

        // School Year
        this.schoolYear &#x3D; data[&#x27;schoolYear&#x27;][0];

        // Catalogs
        this.catalogs.shifts &#x3D; data[&#x27;shifts&#x27;][&#x27;data&#x27;].filter((x) &#x3D;&gt; x.active &#x3D;&#x3D;&#x3D; true).sort((a, b) &#x3D;&gt; a.id - b.id);
        this.catalogs.cycles &#x3D; data[&#x27;cycles&#x27;][&#x27;data&#x27;].sort((a, b) &#x3D;&gt; a.id - b.id);
        this.catalogs.grades &#x3D; data[&#x27;grades&#x27;][&#x27;data&#x27;].filter((x) &#x3D;&gt; x.active &#x3D;&#x3D;&#x3D; true);
        this.catalogs.sections &#x3D; data[&#x27;sections&#x27;][&#x27;data&#x27;]
          .filter((x) &#x3D;&gt; x.name.length &#x3D;&#x3D;&#x3D; 1)
          .concat(data[&#x27;sections&#x27;][&#x27;data&#x27;].filter((x) &#x3D;&gt; x.name.length &gt; 1));

        if (this.schoolYear.status &#x3D;&#x3D;&#x3D; &#x27;En proceso de apertura&#x27;) {
          this.initializeShifts();
          this.initializeCycleCoordinators();
          this.initializeHeadTeachers();
          this.initializeCounselors();
        }
        this.loading &#x3D; false;
      },
      (error) &#x3D;&gt; {
        if (error.status &#x3D;&#x3D;&#x3D; 404) this.schoolYear.status &#x3D; &#x27;Histórico&#x27;;
        this.loading &#x3D; false;
      }
    );
  }

  initializeShifts(): void {
    if (this.schoolYear.shifts.length &#x3D;&#x3D;&#x3D; 0) {
      this.catalogs.shifts.forEach((shift) &#x3D;&gt; {
        const _shift &#x3D; this.previousSchoolYear.shifts.find((x) &#x3D;&gt; x[&#x27;shift&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; shift.id);

        if (_shift) this.schoolYear.shifts.push(_shift);
        else {
          this.schoolYear.shifts.push({
            shift: { id: shift.id, name: shift.name, cycles: new Array&lt;unknown&gt;() }
          });
        }
      });
    } else if (this.catalogs.shifts.length !&#x3D;&#x3D; this.schoolYear.shifts.length) {
      this.catalogs.shifts.forEach((shift) &#x3D;&gt; {
        const _shift &#x3D; this.schoolYear.shifts.find((x) &#x3D;&gt; x[&#x27;shift&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; shift.id);

        if (!_shift) {
          this.schoolYear.shifts.push({ shift: { id: shift.id, name: shift.name, cycles: new Array&lt;unknown&gt;() } });
        }
      });
    }
  }

  initializeCycleCoordinators(): void {
    this.checkEmptyCoordinators();

    if (this.emptyUsers[&#x27;total&#x27;] &#x3D;&#x3D;&#x3D; this.emptyUsers[&#x27;empty&#x27;]) {
      this.previousSchoolYear.shifts.forEach((shift) &#x3D;&gt; {
        const _shift &#x3D; this.schoolYear.shifts.find((x) &#x3D;&gt; x[&#x27;shift&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; shift[&#x27;shift&#x27;][&#x27;id&#x27;]);
        shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].forEach((cycle) &#x3D;&gt; {
          const _cycle &#x3D; _shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].find((x) &#x3D;&gt; x[&#x27;cycle&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; cycle[&#x27;cycle&#x27;][&#x27;id&#x27;]);
          _cycle[&#x27;cycleCoordinator&#x27;] &#x3D; cycle[&#x27;cycleCoordinator&#x27;];
          _cycle[&#x27;cycleCoordinator&#x27;][&#x27;fullname&#x27;] &#x3D; cycle[&#x27;cycleCoordinator&#x27;][&#x27;firstname&#x27;].concat(
            &#x27; &#x27;,
            cycle[&#x27;cycleCoordinator&#x27;][&#x27;lastname&#x27;]
          );
          _cycle[&#x27;cycleCoordinator&#x27;][&#x27;isValid&#x27;] &#x3D; true;
        });
      });
    }
  }

  initializeHeadTeachers(): void {
    this.checkEmptyHeadTeachers();

    if (this.emptyUsers[&#x27;total&#x27;] &#x3D;&#x3D;&#x3D; this.emptyUsers[&#x27;empty&#x27;]) {
      this.previousSchoolYear.shifts.forEach((shift) &#x3D;&gt; {
        const _shift &#x3D; this.schoolYear.shifts.find((x) &#x3D;&gt; x[&#x27;shift&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; shift[&#x27;shift&#x27;][&#x27;id&#x27;]);

        shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].forEach((cycle) &#x3D;&gt; {
          const _cycle &#x3D; _shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].find((x) &#x3D;&gt; x[&#x27;cycle&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; cycle[&#x27;cycle&#x27;][&#x27;id&#x27;]);

          cycle[&#x27;gradeDetails&#x27;].forEach((grade) &#x3D;&gt; {
            const _grade &#x3D; _cycle[&#x27;gradeDetails&#x27;].find((x) &#x3D;&gt; x[&#x27;grade&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; grade[&#x27;grade&#x27;][&#x27;id&#x27;]);

            grade[&#x27;sectionDetails&#x27;].forEach((section) &#x3D;&gt; {
              let _section;
              if (_grade) {
                _section &#x3D; _grade[&#x27;sectionDetails&#x27;].find((x) &#x3D;&gt; x[&#x27;section&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; section[&#x27;section&#x27;][&#x27;id&#x27;]);
                _section[&#x27;teacher&#x27;] &#x3D; section[&#x27;teacher&#x27;];
                _section[&#x27;teacher&#x27;][&#x27;fullname&#x27;] &#x3D; section[&#x27;teacher&#x27;][&#x27;firstname&#x27;].concat(
                  &#x27; &#x27;,
                  section[&#x27;teacher&#x27;][&#x27;lastname&#x27;]
                );
                _section[&#x27;teacher&#x27;][&#x27;isValid&#x27;] &#x3D; true;
              } else if (section) {
                _section[&#x27;teacher&#x27;] &#x3D; new User();
                _section[&#x27;teacher&#x27;][&#x27;isValid&#x27;] &#x3D; true;
              }
            });
          });
        });
      });
    }
  }

  initializeCounselors(): void {
    this.checkEmptyCounselors();
    
    if (this.emptyUsers[&#x27;total&#x27;] &#x3D;&#x3D;&#x3D; this.emptyUsers[&#x27;empty&#x27;]) {
      this.previousSchoolYear.shifts.forEach((shift) &#x3D;&gt; {
        const _shift &#x3D; this.schoolYear.shifts.find((x) &#x3D;&gt; x[&#x27;shift&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; shift[&#x27;shift&#x27;][&#x27;id&#x27;]);

        shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].forEach((cycle) &#x3D;&gt; {
          const _cycle &#x3D; _shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].find((x) &#x3D;&gt; x[&#x27;cycle&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; cycle[&#x27;cycle&#x27;][&#x27;id&#x27;]);

          cycle[&#x27;gradeDetails&#x27;].forEach((grade) &#x3D;&gt; {
            const _grade &#x3D; _cycle[&#x27;gradeDetails&#x27;].find((x) &#x3D;&gt; x[&#x27;grade&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; grade[&#x27;grade&#x27;][&#x27;id&#x27;]);

            if (_grade) {
              _grade[&#x27;counselor&#x27;] &#x3D; grade[&#x27;counselor&#x27;];
              _grade[&#x27;counselor&#x27;][&#x27;fullname&#x27;] &#x3D; grade[&#x27;counselor&#x27;][&#x27;firstname&#x27;].concat(
                &#x27; &#x27;,
                grade[&#x27;counselor&#x27;][&#x27;lastname&#x27;]
              );
              grade[&#x27;counselor&#x27;][&#x27;isValid&#x27;] &#x3D; true;
            }

          });
        });
      });
    }
  }

  //#region New school year
  initClassPeriod(): void {
    this.classPeriodForm &#x3D; this.fb.group({
      classPeriod: [&#x27;&#x27;, [Validators.required]]
    });
  }

  submitClassPeriod(): void {
    for (const i in this.classPeriodForm.controls) {
      this.classPeriodForm.controls[i].markAsDirty();
      this.classPeriodForm.controls[i].updateValueAndValidity();
    }

    if (this.classPeriodForm.valid) {
      const period &#x3D; this.classPeriodForm.controls[&#x27;classPeriod&#x27;].value;

      const result &#x3D; formatDistanceStrict(period[0], period[1], { locale: es });
      this.showStartConfirm(period, result);
    }
  }

  showStartConfirm(period: Date[], distance: string): void {
    const startFormat &#x3D; format(period[0], &#x27;d/MMMM/yyyy&#x27;, { locale: es });
    const endFormat &#x3D; format(period[1], &#x27;d/MMMM/yyyy&#x27;, { locale: es });

    this.confirmModal &#x3D; this.modal.confirm({
      nzTitle: &#x60;¿Desea aperturar el año escolar?&#x60;,
      nzContent: &#x60;&lt;p class&#x3D;&quot;principal&quot;&gt;DETALLES&lt;/p&gt; 
                  &lt;p&gt;&lt;b&gt;Periodo:&lt;/b&gt; ${startFormat} a ${endFormat}&lt;/p&gt; 
                  &lt;p&gt;&lt;b&gt;Duración:&lt;/b&gt; ${distance}&lt;/p&gt;&lt;br&gt;
                  &lt;p&gt;&lt;i&gt;Una vez iniciada la apertura del año escolar, el periodo dejará de ser accesible para mofidicaciones hasta que se completen todos los pasos.&lt;/i&gt;&lt;/p&gt;&#x60;,
      nzOnOk: () &#x3D;&gt;
        this.schoolYearService
          .initializeSchoolYear(period[0], period[1])
          .toPromise()
          .then((r) &#x3D;&gt; {
            this.message.success(&#x60;El año escolar ${r[&#x27;year&#x27;]} se ha aperturado con éxito&#x60;);
            this.getSchoolYear();
          })
          .catch((err) &#x3D;&gt; {
            const statusCode &#x3D; err.statusCode;
            const notIn &#x3D; [401, 403];

            if (!notIn.includes(statusCode) &amp;&amp; statusCode &lt; 500) {
              this.notification.create(&#x27;error&#x27;, &#x27;Ocurrió un error al intentar aperturar el año escolar.&#x27;, err.message, {
                nzDuration: 0
              });
            }
          })
    });
  }
  //#endregion

  //#region School year
  //#region Update school year
  updateItem(content: unknown): void {
    let grade, actualCycle;
    const shift &#x3D; this.schoolYear.shifts.find((x) &#x3D;&gt; x[&#x27;shift&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; content[&#x27;shift&#x27;][&#x27;id&#x27;]);
    let newCycle &#x3D; shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].find((x) &#x3D;&gt; x[&#x27;cycle&#x27;][&#x27;id&#x27;] &#x3D;&#x3D; content[&#x27;field&#x27;]);

    // Find grade
    for (let i &#x3D; 0; i &lt; shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].length; i++) {
      grade &#x3D; shift[&#x27;shift&#x27;][&#x27;cycles&#x27;][i][&#x27;gradeDetails&#x27;].find(
        (x) &#x3D;&gt; x[&#x27;grade&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; content[&#x27;data&#x27;][&#x27;grade&#x27;][&#x27;id&#x27;]
      );

      if (grade) {
        actualCycle &#x3D; shift[&#x27;shift&#x27;][&#x27;cycles&#x27;][i];
        break;
      }
    }

    switch (content[&#x27;type&#x27;]) {
      case &#x27;cycle&#x27;:
        if (grade) {
          actualCycle[&#x27;gradeDetails&#x27;] &#x3D; actualCycle[&#x27;gradeDetails&#x27;].filter(
            (x) &#x3D;&gt; x[&#x27;grade&#x27;][&#x27;id&#x27;] !&#x3D; content[&#x27;data&#x27;][&#x27;grade&#x27;][&#x27;id&#x27;]
          );
            
          if (newCycle) newCycle[&#x27;gradeDetails&#x27;].push(grade);
          else if (content[&#x27;field&#x27;]) {
            const findCycle &#x3D; this.catalogs.cycles.find((x) &#x3D;&gt; x.id &#x3D;&#x3D;&#x3D; content[&#x27;data&#x27;][&#x27;cycle&#x27;].id);
            newCycle &#x3D; {
              id: null,
              cycle: { ...findCycle },
              cycleCoordinator: new User(),
              gradeDetails: new Array&lt;unknown&gt;()
            };

            newCycle[&#x27;gradeDetails&#x27;].push({
              counselor: new User(),
              grade: { ...content[&#x27;data&#x27;][&#x27;grade&#x27;] },
              sectionDetails: new Array&lt;unknown&gt;()
            });

            shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].push(newCycle);
          }
        } else {
          if (content[&#x27;field&#x27;] &amp;&amp; !newCycle) {
            const findCycle &#x3D; this.catalogs.cycles.find((x) &#x3D;&gt; x.id &#x3D;&#x3D;&#x3D; content[&#x27;data&#x27;][&#x27;cycle&#x27;].id);
            newCycle &#x3D; {
              id: null,
              cycle: { ...findCycle },
              cycleCoordinator: new User(),
              gradeDetails: new Array&lt;unknown&gt;()
            };
            shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].push(newCycle);
          }

          newCycle[&#x27;gradeDetails&#x27;].push({
            counselor: new User(),
            grade: { ...content[&#x27;data&#x27;][&#x27;grade&#x27;] },
            sectionDetails: new Array&lt;unknown&gt;()
          });
        }

        break;
      case &#x27;section&#x27;:
        let section;
        grade
          ? (section &#x3D; grade[&#x27;sectionDetails&#x27;].find((x) &#x3D;&gt; x[&#x27;section&#x27;].id &#x3D;&#x3D;&#x3D; content[&#x27;field&#x27;][&#x27;id&#x27;]))
          : (grade &#x3D; { sectionDetails: new Array&lt;unknown&gt;() });

        section
          ? (grade[&#x27;sectionDetails&#x27;] &#x3D; grade[&#x27;sectionDetails&#x27;].filter(
              (x) &#x3D;&gt; x[&#x27;section&#x27;].id !&#x3D;&#x3D; content[&#x27;field&#x27;][&#x27;id&#x27;]
            ))
          : grade[&#x27;sectionDetails&#x27;].push({ id: null, section: { ...content[&#x27;field&#x27;] }, teacher: new User() });
        break;
    }
  }

  updateCycleCoordinators(content: unknown): void {
    const shift &#x3D; this.schoolYear.shifts.find((x) &#x3D;&gt; x[&#x27;shift&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; content[&#x27;shift&#x27;][&#x27;id&#x27;]);
    const cycle &#x3D; shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].find((x) &#x3D;&gt; x[&#x27;cycle&#x27;].id &#x3D;&#x3D;&#x3D; content[&#x27;cycle&#x27;][&#x27;cycle&#x27;][&#x27;id&#x27;]);

    cycle[&#x27;cycleCoordinator&#x27;] &#x3D; content[&#x27;cycle&#x27;][&#x27;cycleCoordinator&#x27;]
      ? content[&#x27;cycle&#x27;][&#x27;cycleCoordinator&#x27;]
      : new User();

    cycle[&#x27;cycleCoordinator&#x27;][&#x27;isValid&#x27;] &#x3D; !content[&#x27;cycle&#x27;][&#x27;error&#x27;];
    if (!cycle[&#x27;cycleCoordinator&#x27;][&#x27;id&#x27;]) cycle[&#x27;cycleCoordinator&#x27;][&#x27;isValid&#x27;] &#x3D; false;
  }

  updateHeadTeachers(content: unknown): void {
    const shift &#x3D; this.schoolYear.shifts.find((x) &#x3D;&gt; x[&#x27;shift&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; content[&#x27;shift&#x27;][&#x27;id&#x27;]);
    const cycle &#x3D; shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].find((x) &#x3D;&gt; x[&#x27;cycle&#x27;].id &#x3D;&#x3D;&#x3D; content[&#x27;grade&#x27;][&#x27;cycle&#x27;][&#x27;id&#x27;]);
    const grade &#x3D; cycle[&#x27;gradeDetails&#x27;].find((x) &#x3D;&gt; x[&#x27;grade&#x27;].id &#x3D;&#x3D;&#x3D; content[&#x27;grade&#x27;][&#x27;grade&#x27;][&#x27;id&#x27;]);
    const section &#x3D; grade[&#x27;sectionDetails&#x27;].find((x) &#x3D;&gt; x[&#x27;section&#x27;].id &#x3D;&#x3D;&#x3D; content[&#x27;section&#x27;][&#x27;section&#x27;][&#x27;id&#x27;]);

    section[&#x27;teacher&#x27;] &#x3D; content[&#x27;section&#x27;][&#x27;teacher&#x27;] ? content[&#x27;section&#x27;][&#x27;teacher&#x27;] : new User();

    section[&#x27;teacher&#x27;][&#x27;isValid&#x27;] &#x3D; !content[&#x27;section&#x27;][&#x27;error&#x27;];
    if (!section[&#x27;teacher&#x27;][&#x27;id&#x27;]) section[&#x27;teacher&#x27;][&#x27;isValid&#x27;] &#x3D; false;
  }

  updateCounselors(content: unknown): void {
    const shift &#x3D; this.schoolYear.shifts.find((x) &#x3D;&gt; x[&#x27;shift&#x27;][&#x27;id&#x27;] &#x3D;&#x3D;&#x3D; content[&#x27;shift&#x27;][&#x27;id&#x27;]);
    const cycles &#x3D; shift[&#x27;shift&#x27;][&#x27;cycles&#x27;];

    if (!content[&#x27;remove&#x27;]) {
      // Assign counselor to the respective grades
      content[&#x27;counselor&#x27;][&#x27;grades&#x27;].forEach((gr) &#x3D;&gt; {
        for (const c in cycles) {
          const cycle &#x3D; cycles[c];
          let found &#x3D; false;

          for (const g in cycle[&#x27;gradeDetails&#x27;]) {
            const grade &#x3D; cycle[&#x27;gradeDetails&#x27;][g];

            if(grade[&#x27;grade&#x27;].id &#x3D;&#x3D;&#x3D; gr.id) {
              grade[&#x27;counselor&#x27;] &#x3D; content[&#x27;counselor&#x27;];
              found &#x3D; true;

              break;
            }
          }

          if(found) break;
        }
      });
    } else {
      // Remove counselor from grade
      for (const c in cycles) {
        const cycle &#x3D; cycles[c];
        let found &#x3D; false;

        for (const g in cycle[&#x27;gradeDetails&#x27;]) {
          const grade &#x3D; cycle[&#x27;gradeDetails&#x27;][g];

          if(grade[&#x27;grade&#x27;].id &#x3D;&#x3D;&#x3D; content[&#x27;remove&#x27;][&#x27;id&#x27;]) {
            grade[&#x27;counselor&#x27;] &#x3D; null;
            found &#x3D; true;

            break;
          }
        }

        if(found) break;
      }
      
    }
  }
  //#endregion

  //#region Steps
  pre(): void {
    this.sendData(false);
  }

  next(): void {
    this.sendData(true);
  }

  done(): void {
    const year &#x3D; getYear(parseISO(this.schoolYear.startDate.toString()));
    let allowFinalStep &#x3D; true;
    let errorMessage &#x3D; &#x27;&#x27;;

    this.checkEmptyCoordinators();
    if (this.emptyUsers.empty &gt; 0 &amp;&amp; this.emptyUsers.valid) {
      allowFinalStep &#x3D; false; 
      errorMessage +&#x3D; &#x27;Se detectaron ciclos sin coordinadores asignados. &#x27;;
    } 

    this.checkEmptyHeadTeachers();
    if (this.emptyUsers.empty &gt; 0 &amp;&amp; this.emptyUsers.valid) {
      allowFinalStep &#x3D; false; 
      errorMessage +&#x3D; &#x27;Se detectaron grados sin docentes titulares asignados. &#x27;;
    } 

    this.checkEmptyCounselors();
    if (this.emptyUsers.empty &gt; 0 &amp;&amp; this.emptyUsers.valid) {
      allowFinalStep &#x3D; false; 
      errorMessage +&#x3D; &#x27;Se detectaron grados sin orientadores asignados. &#x27;;
    } 

    if (allowFinalStep) {
      this.confirmSchoolYearModal &#x3D; this.modal.confirm({
        nzTitle: &#x60;¿Aperturar año escolar ${year}?&#x60;,
        nzContent: &#x27;Al dar clic al botón Aceptar se iniciará un nuevo año escolar con las configuraciones asignadas.&#x27;,
        nzOnOk: () &#x3D;&gt;
          this.schoolYearService
            .startSchoolYear()
            .toPromise()
            .then(() &#x3D;&gt; {
              this.message.success(&#x60;El año escolar ${year} se ha iniciado con éxito&#x60;);
              this.getSchoolYear();
            })
            .catch((err) &#x3D;&gt; {
              const statusCode &#x3D; err.statusCode;
              const notIn &#x3D; [401, 403];
  
              if (!notIn.includes(statusCode) &amp;&amp; statusCode &lt; 500) {
                this.notification.create(&#x27;error&#x27;, &#x27;Ocurrió un error al aperturar el año escolar.&#x27;, err.message, {
                  nzDuration: 0
                });
              }
            })
      });
    } else {
      this.notification.create(&#x27;error&#x27;, &#x27;Ocurrió un error al aperturar el año escolar. Verifique lo siguiente: &#x27;, errorMessage, {
        nzDuration: 0
      });
    }
  }

  // Save data
  sendData(next: boolean): void {
    switch (this.currentStep) {
      case 0:
        this.academicAssignmentsStep(next);
        break;
      case 1:
        this.cycleCoordinatorsStep(next);
        break;
      case 2:
        this.headTeachersStep(next);
        break;
      case 3:
        this.counselorsStep(next);
        break;
      case 4:
        this.finalStep(next);
        break;
    }
  }
  //#endregion 

  academicAssignmentsStep(next: boolean): void {
    let emptyShifts &#x3D; false;
    this.schoolYear.shifts.forEach((shift) &#x3D;&gt; {
      if (!shift[&#x27;shift&#x27;][&#x27;cycles&#x27;]) emptyShifts &#x3D; true;
    });
    if (!emptyShifts) {
      this.loading &#x3D; true;
      this.schoolYearService.saveAcademicAssignments(this.schoolYear).subscribe(
        () &#x3D;&gt; {
          this.schoolYear[&#x27;shifts&#x27;].forEach((shift) &#x3D;&gt; {
            shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].forEach((cycle) &#x3D;&gt; {
              if (cycle[&#x27;gradeDetails&#x27;].length &#x3D;&#x3D;&#x3D; 0) {
                shift[&#x27;shift&#x27;][&#x27;cycles&#x27;] &#x3D; shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].filter(
                  (x) &#x3D;&gt; x[&#x27;cycle&#x27;].id !&#x3D;&#x3D; cycle[&#x27;cycle&#x27;].id
                );
              }
            });
          });

          this.loading &#x3D; false;
          this.message.success(&#x60;La asignación de ciclos, grados y secciones se ha guardado con éxito&#x60;);
          if (next) this.currentStep +&#x3D; 1;
        },
        (error) &#x3D;&gt; {
          const statusCode &#x3D; error.statusCode;
          const notIn &#x3D; [401, 403];
          if (!notIn.includes(statusCode) &amp;&amp; statusCode &lt; 500) {
              this.notification.create(&#x27;error&#x27;, &#x27;Ocurrió un error al guardar la asignación actual.&#x27;, error.message, {
              nzDuration: 0
            });
          } else if (typeof error &#x3D;&#x3D;&#x3D; &#x27;string&#x27;) {
            this.notification.create(&#x27;error&#x27;, &#x27;Ocurrió un error al guardar la asignación actual.&#x27;, error, {
              nzDuration: 0
            });
          }
          this.loading &#x3D; false;
        }
      );
    } else {
      this.notification.create(
        &#x27;error&#x27;,
        &#x27;Uno o más turnos vacíos.&#x27;,
        &#x27;Debe asignar al menos un grado a algún ciclo para poder continuar&#x27;,
        {
          nzDuration: 15000
        }
      );
    }
  }

  cycleCoordinatorsStep(next: boolean): void {
    this.checkEmptyCoordinators();
    if (this.emptyUsers[&#x27;empty&#x27;] &gt; 0 &amp;&amp; this.emptyUsers[&#x27;valid&#x27;]) this.emptyUsers[&#x27;valid&#x27;] &#x3D; false;

    if (this.emptyUsers[&#x27;valid&#x27;]) {
      this.loading &#x3D; true;
      this.schoolYearService.saveCycleCoordinators(this.schoolYear).subscribe(
        () &#x3D;&gt; {
          this.loading &#x3D; false;
          this.message.success(&#x60;La asignación de coordinadores se ha guardado con éxito&#x60;);
          next ? (this.currentStep +&#x3D; 1) : (this.currentStep -&#x3D; 1);
        },
        (error) &#x3D;&gt; {
          const statusCode &#x3D; error.statusCode;
          const notIn &#x3D; [401, 403];
          if (!notIn.includes(statusCode) &amp;&amp; statusCode &lt; 500) {
            this.notification.create(&#x27;error&#x27;, &#x27;Ocurrió un error al guardar la asignación actual.&#x27;, error.message, {
              nzDuration: 0
            });
          } else if (typeof error &#x3D;&#x3D;&#x3D; &#x27;string&#x27;) {
            this.notification.create(&#x27;error&#x27;, &#x27;Ocurrió un error al guardar la asignación actual.&#x27;, error, {
              nzDuration: 0
            });
          }
          this.loading &#x3D; false;
        }
      );
    } else {
      this.notification.create(
        &#x27;error&#x27;,
        &#x27;Error en la asignación de coordinadores.&#x27;,
        &#x27;Verifique que los valores ingresados en todos los turnos son correctos, no se permiten campos vacíos.&#x27;,
        {
          nzDuration: 15000
        }
      );
    }
  }

  headTeachersStep(next: boolean): void {
    this.checkEmptyHeadTeachers();
    if (this.emptyUsers[&#x27;empty&#x27;] &gt; 0 &amp;&amp; this.emptyUsers[&#x27;valid&#x27;]) this.emptyUsers[&#x27;valid&#x27;] &#x3D; false;

    if (this.emptyUsers[&#x27;valid&#x27;]) {
      this.loading &#x3D; true;
      this.schoolYearService.saveHeadteachers(this.schoolYear).subscribe(
        () &#x3D;&gt; {
          this.loading &#x3D; false;
          this.message.success(&#x60;La asignación de docentes titulares se ha guardado con éxito&#x60;);
          next ? (this.currentStep +&#x3D; 1) : (this.currentStep -&#x3D; 1);
        },
        (error) &#x3D;&gt; {
          const statusCode &#x3D; error.statusCode;
          const notIn &#x3D; [401, 403];
          if (!notIn.includes(statusCode) &amp;&amp; statusCode &lt; 500) {
            this.notification.create(&#x27;error&#x27;, &#x27;Ocurrió un error al guardar la asignación actual.&#x27;, error.message, {
              nzDuration: 0
            });
          } else if (typeof error &#x3D;&#x3D;&#x3D; &#x27;string&#x27;) {
            this.notification.create(&#x27;error&#x27;, &#x27;Ocurrió un error al guardar la asignación actual.&#x27;, error, {
              nzDuration: 0
            });
          }
          this.loading &#x3D; false;
        }
      );
    } else {
      this.notification.create(
        &#x27;error&#x27;,
        &#x27;Error en la asignación de docentes titulares.&#x27;,
        &#x27;Verifique que los valores ingresados en todos los turnos son correctos, no se permiten campos vacíos.&#x27;,
        {
          nzDuration: 15000
        }
      );
    }
  }

  counselorsStep(next: boolean): void {
    this.checkEmptyCounselors();
    if (this.emptyUsers[&#x27;empty&#x27;] &gt; 0 &amp;&amp; this.emptyUsers[&#x27;valid&#x27;]) this.emptyUsers[&#x27;valid&#x27;] &#x3D; false;

    if (this.emptyUsers[&#x27;valid&#x27;]) {
      this.loading &#x3D; true;
      this.schoolYearService.saveCounselors(this.schoolYear).subscribe(
        () &#x3D;&gt; {
          this.loading &#x3D; false;
          this.message.success(&#x60;La asignación de orientadores se ha guardado con éxito&#x60;);
          next ? (this.currentStep +&#x3D; 1) : (this.currentStep -&#x3D; 1);
        },
        (error) &#x3D;&gt; {
          const statusCode &#x3D; error.statusCode;
          const notIn &#x3D; [401, 403];
          if (!notIn.includes(statusCode) &amp;&amp; statusCode &lt; 500) {
            this.notification.create(&#x27;error&#x27;, &#x27;Ocurrió un error al guardar la asignación actual.&#x27;, error.message, {
              nzDuration: 0
            });
          } else if (typeof error &#x3D;&#x3D;&#x3D; &#x27;string&#x27;) {
            this.notification.create(&#x27;error&#x27;, &#x27;Ocurrió un error al guardar la asignación actual.&#x27;, error, {
              nzDuration: 0
            });
          }
          this.loading &#x3D; false;
        }
      );
    } else {
      this.notification.create(
        &#x27;error&#x27;,
        &#x27;Error en la asignación de orientadores.&#x27;,
        &#x27;Verifique que todos los grados hayan sido asignados a las orientadoras en todos los turnos.&#x27;,
        {
          nzDuration: 15000
        }
      );
    }
  }

  finalStep(next: boolean): void {
    next ? (this.currentStep +&#x3D; 1) : (this.currentStep -&#x3D; 1);
  }

  // Check school year elements
  checkEmptyCoordinators(): void {
    this.emptyUsers &#x3D; { total: 0, empty: 0, valid: true };

    this.schoolYear.shifts.forEach((shift) &#x3D;&gt; {
      shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].forEach((cycle) &#x3D;&gt; {
        this.emptyUsers[&#x27;total&#x27;]++;

        if (!cycle[&#x27;cycleCoordinator&#x27;] || !cycle[&#x27;cycleCoordinator&#x27;].id) this.emptyUsers[&#x27;empty&#x27;]++;
        if (cycle[&#x27;cycleCoordinator&#x27;] &amp;&amp; cycle[&#x27;cycleCoordinator&#x27;][&#x27;isValid&#x27;] &#x3D;&#x3D;&#x3D; false)
          this.emptyUsers[&#x27;valid&#x27;] &#x3D; false;
      });
    });
  }

  checkEmptyHeadTeachers(): void {
    this.emptyUsers &#x3D; { total: 0, empty: 0, valid: true };

    this.schoolYear.shifts.forEach((shift) &#x3D;&gt; {
      shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].forEach((cycle) &#x3D;&gt; {
        cycle[&#x27;gradeDetails&#x27;].forEach((grade) &#x3D;&gt; {
          grade[&#x27;sectionDetails&#x27;].forEach((section) &#x3D;&gt; {
            this.emptyUsers[&#x27;total&#x27;]++;

            if (!section[&#x27;teacher&#x27;] || !section[&#x27;teacher&#x27;].id) this.emptyUsers[&#x27;empty&#x27;]++;
            if (section[&#x27;teacher&#x27;] &amp;&amp; section[&#x27;teacher&#x27;][&#x27;isValid&#x27;] &#x3D;&#x3D;&#x3D; false)
              this.emptyUsers[&#x27;valid&#x27;] &#x3D; false;
          });
        });
      });
    });
  }

  checkEmptyCounselors(): void {
    this.emptyUsers &#x3D; { total: 0, empty: 0, valid: true };

    this.schoolYear.shifts.forEach((shift) &#x3D;&gt; {
      shift[&#x27;shift&#x27;][&#x27;cycles&#x27;].forEach((cycle) &#x3D;&gt; {
        cycle[&#x27;gradeDetails&#x27;].forEach((grade) &#x3D;&gt; {
          this.emptyUsers[&#x27;total&#x27;]++;
          
          if (!grade[&#x27;counselor&#x27;] || !grade[&#x27;counselor&#x27;].id) this.emptyUsers[&#x27;empty&#x27;]++;
          if (grade[&#x27;counselor&#x27;] &amp;&amp; grade[&#x27;counselor&#x27;][&#x27;isValid&#x27;] &#x3D;&#x3D;&#x3D; false)
              this.emptyUsers[&#x27;valid&#x27;] &#x3D; false;
        });
      });
    });
  }
  //#endregion
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;h1&gt;Año escolar&lt;/h1&gt;

&lt;nz-spin nzTip&#x3D;&quot;Cargando ...&quot; [nzSpinning]&#x3D;&quot;loading&quot;&gt;
    &lt;ng-container [ngSwitch]&#x3D;&quot;schoolYear.status&quot;&gt;
        &lt;ng-container *ngSwitchCase&#x3D;&quot;&#x27;Histórico&#x27;&quot;&gt;
            &lt;!-- #region No active or draft school year --&gt;
            &lt;form nz-form [formGroup]&#x3D;&quot;classPeriodForm&quot; (ngSubmit)&#x3D;&quot;submitClassPeriod()&quot;&gt;
                &lt;div nz-col nzXs&#x3D;&quot;24&quot; nzSm&#x3D;&quot;24&quot; nzMd&#x3D;&quot;20&quot; nzLg&#x3D;&quot;11&quot;&gt;
                    &lt;nz-form-item nzJustify&#x3D;&quot;space-around&quot;&gt;
                        &lt;nz-form-label&gt;Periodo de clases&lt;/nz-form-label&gt;
                        &lt;nz-form-control [nzErrorTip]&#x3D;&quot;classPeriodErrors&quot;&gt;
                            &lt;nz-range-picker formControlName&#x3D;&quot;classPeriod&quot; nzFormat&#x3D;&quot;dd/MM/yyyy&quot;&gt;&lt;/nz-range-picker&gt;
                            &lt;ng-template #classPeriodErrors let-control&gt;
                                &lt;ng-container *ngIf&#x3D;&quot;control.hasError(&#x27;required&#x27;)&quot;&gt;
                                    El periodo de clases es obligatorio
                                &lt;/ng-container&gt;
                            &lt;/ng-template&gt;
                        &lt;/nz-form-control&gt;
                    &lt;/nz-form-item&gt;
                    &lt;button nz-button nzType&#x3D;&quot;primary&quot;&gt;Iniciar apertura del año escolar&lt;/button&gt;
                &lt;/div&gt;
            &lt;/form&gt;
            &lt;!-- #endregion --&gt;
        &lt;/ng-container&gt;

        &lt;ng-container *ngSwitchCase&#x3D;&quot;&#x27;En proceso de apertura&#x27;&quot;&gt;
            &lt;!-- #region Draft school year --&gt;
            &lt;!-- Steps --&gt;
            &lt;nz-steps [nzCurrent]&#x3D;&quot;currentStep&quot; nzProgressDot&gt;
                &lt;nz-step nzTitle&#x3D;&quot;Ciclos, grados y secciones&quot;&gt;&lt;/nz-step&gt;
                &lt;nz-step nzTitle&#x3D;&quot;Coordinadores de ciclo&quot;&gt;&lt;/nz-step&gt;
                &lt;nz-step nzTitle&#x3D;&quot;Docentes titulares&quot;&gt;&lt;/nz-step&gt;
                &lt;nz-step nzTitle&#x3D;&quot;Orientadores&quot;&gt;&lt;/nz-step&gt;
                &lt;nz-step nzTitle&#x3D;&quot;Finalizar&quot;&gt;&lt;/nz-step&gt;
            &lt;/nz-steps&gt;

            &lt;!-- Steps content --&gt;
            &lt;div class&#x3D;&quot;steps-content&quot;&gt;
                &lt;div class&#x3D;&quot;shifts&quot;&gt;
                    &lt;!-- &lt;nz-tabset nzTabPosition&#x3D;&quot;left&quot; [nzType]&#x3D;&quot;&#x27;line&#x27;&quot;&gt; --&gt;
                    &lt;!-- &lt;nz-tab *ngFor&#x3D;&quot;let shift of catalogs.shifts&quot; [nzTitle]&#x3D;&quot;shift.name&quot;&gt; --&gt;
                    &lt;div class&#x3D;&quot;step-content&quot; [ngSwitch]&#x3D;&quot;currentStep&quot;&gt;
                        &lt;ng-container *ngSwitchCase&#x3D;&quot;0&quot;&gt;
                            &lt;app-academic-assignments [catalogs]&#x3D;&quot;catalogs&quot; [assignation]&#x3D;&quot;schoolYear&quot;
                                [isActive]&#x3D;&quot;false&quot; (academicEvent)&#x3D;&quot;updateItem($event)&quot;&gt;
                            &lt;/app-academic-assignments&gt;
                        &lt;/ng-container&gt;
                        &lt;ng-container *ngSwitchCase&#x3D;&quot;1&quot;&gt;
                            &lt;app-cycle-coordinators [catalogs]&#x3D;&quot;catalogs&quot; [assignation]&#x3D;&quot;schoolYear&quot;
                                [isValid]&#x3D;&quot;emptyUsers.valid&quot; (coordinatorsEvent)&#x3D;&quot;updateCycleCoordinators($event)&quot;&gt;
                            &lt;/app-cycle-coordinators&gt;
                        &lt;/ng-container&gt;
                        &lt;ng-container *ngSwitchCase&#x3D;&quot;2&quot;&gt;
                            &lt;app-head-teachers [catalogs]&#x3D;&quot;catalogs&quot; [assignation]&#x3D;&quot;schoolYear&quot;
                                [isValid]&#x3D;&quot;emptyUsers.valid&quot; (headTeachersEvent)&#x3D;&quot;updateHeadTeachers($event)&quot;&gt;
                            &lt;/app-head-teachers&gt;
                        &lt;/ng-container&gt;
                        &lt;ng-container *ngSwitchCase&#x3D;&quot;3&quot;&gt;
                            &lt;app-counselors [catalogs]&#x3D;&quot;catalogs&quot; [assignation]&#x3D;&quot;schoolYear&quot;
                            [isValid]&#x3D;&quot;emptyUsers.valid&quot; (counselorsEvent)&#x3D;&quot;updateCounselors($event)&quot;&gt;&lt;/app-counselors&gt;
                        &lt;/ng-container&gt;
                        &lt;ng-container *ngSwitchCase&#x3D;&quot;4&quot;&gt;
                            &lt;app-new-school-year-summary [assignation]&#x3D;&quot;schoolYear&quot;&gt;&lt;/app-new-school-year-summary&gt;
                        &lt;/ng-container&gt;
                    &lt;/div&gt;
                    &lt;!-- &lt;/nz-tab&gt; --&gt;
                    &lt;!-- &lt;/nz-tabset&gt; --&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;!-- Steps actions --&gt;
            &lt;div class&#x3D;&quot;steps-action&quot;&gt;
                &lt;button nz-button nzType&#x3D;&quot;default&quot; (click)&#x3D;&quot;pre()&quot; *ngIf&#x3D;&quot;currentStep &gt; 0&quot;&gt;
                    &lt;span&gt;Previo&lt;/span&gt;
                &lt;/button&gt;
                &lt;button nz-button nzType&#x3D;&quot;default&quot; (click)&#x3D;&quot;next()&quot; *ngIf&#x3D;&quot;currentStep &lt; 4&quot;&gt;
                    &lt;span&gt;Siguiente&lt;/span&gt;
                &lt;/button&gt;
                &lt;button nz-button nzType&#x3D;&quot;primary&quot; (click)&#x3D;&quot;done()&quot; *ngIf&#x3D;&quot;currentStep &#x3D;&#x3D;&#x3D; 4&quot;&gt;
                    &lt;span&gt;Finalizar&lt;/span&gt;
                &lt;/button&gt;
            &lt;/div&gt;
            &lt;!-- #endregion --&gt;
        &lt;/ng-container&gt;

        &lt;ng-container *ngSwitchCase&#x3D;&quot;&#x27;En curso&#x27;&quot;&gt;
            &lt;!-- #region Active school year --&gt;
            &lt;nz-tabset&gt;
                &lt;nz-tab nzTitle&#x3D;&quot;Ciclos, grados y secciones&quot;&gt;
                    &lt;div class&#x3D;&quot;shifts&quot;&gt;
                        &lt;app-academic-assignments [catalogs]&#x3D;&quot;catalogs&quot; [assignation]&#x3D;&quot;schoolYear&quot; [isActive]&#x3D;&quot;true&quot;&gt;
                        &lt;/app-academic-assignments&gt;
                    &lt;/div&gt;
                &lt;/nz-tab&gt;
                &lt;nz-tab nzTitle&#x3D;&quot;Coordinadores de ciclo&quot;&gt;
                    &lt;div class&#x3D;&quot;shifts&quot;&gt;
                        &lt;app-cycle-coordinators [catalogs]&#x3D;&quot;catalogs&quot; [assignation]&#x3D;&quot;schoolYear&quot;
                            [isValid]&#x3D;&quot;emptyUsers.valid&quot; (coordinatorsEvent)&#x3D;&quot;updateCycleCoordinators($event)&quot;&gt;
                        &lt;/app-cycle-coordinators&gt;
                        &lt;div nz-row nzJustify&#x3D;&quot;space-around&quot;&gt;
                            &lt;button nz-button nzType&#x3D;&quot;primary&quot; (click)&#x3D;&quot;cycleCoordinatorsStep(null)&quot;&gt;Actualizar&lt;/button&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/nz-tab&gt;
                &lt;nz-tab nzTitle&#x3D;&quot;Docentes&quot;&gt;
                    &lt;div class&#x3D;&quot;shifts&quot;&gt;
                        &lt;app-head-teachers [catalogs]&#x3D;&quot;catalogs&quot; [assignation]&#x3D;&quot;schoolYear&quot; [isValid]&#x3D;&quot;emptyUsers.valid&quot;
                            (headTeachersEvent)&#x3D;&quot;updateHeadTeachers($event)&quot;&gt;
                        &lt;/app-head-teachers&gt;
                        
                        &lt;div nz-row nzJustify&#x3D;&quot;space-around&quot;&gt;
                            &lt;button nz-button nzType&#x3D;&quot;primary&quot; (click)&#x3D;&quot;headTeachersStep(null)&quot;&gt;Actualizar&lt;/button&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/nz-tab&gt;
                &lt;nz-tab nzTitle&#x3D;&quot;Orientadores&quot;&gt;
                    &lt;div class&#x3D;&quot;shifts&quot;&gt;
                        &lt;app-counselors [catalogs]&#x3D;&quot;catalogs&quot; [assignation]&#x3D;&quot;schoolYear&quot;
                            [isValid]&#x3D;&quot;emptyUsers.valid&quot; (counselorsEvent)&#x3D;&quot;updateCounselors($event)&quot;&gt;
                        &lt;/app-counselors&gt;

                        &lt;div nz-row nzJustify&#x3D;&quot;space-around&quot;&gt;
                            &lt;button nz-button nzType&#x3D;&quot;primary&quot; (click)&#x3D;&quot;counselorsStep(null)&quot;&gt;Actualizar&lt;/button&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/nz-tab&gt;
                &lt;!-- &lt;nz-tab nzTitle&#x3D;&quot;Cerrar año escolar&quot;&gt;
                &lt;/nz-tab&gt; --&gt;
            &lt;/nz-tabset&gt;
            &lt;!-- #endregion --&gt;
        &lt;/ng-container&gt;
    &lt;/ng-container&gt;
&lt;/nz-spin&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./school-year.component.css</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">.step-content.individual, .steps-action {
    margin-top: 25px;
}

.steps-action button {
    margin-right: 10px;
}</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><h1>Año escolar</h1><nz-spin nzTip="Cargando ..." [nzSpinning]="loading">    <ng-container [ngSwitch]="schoolYear.status">        <ng-container *ngSwitchCase="\'Histórico\'">            <!-- #region No active or draft school year -->            <form nz-form [formGroup]="classPeriodForm" (ngSubmit)="submitClassPeriod()">                <div nz-col nzXs="24" nzSm="24" nzMd="20" nzLg="11">                    <nz-form-item nzJustify="space-around">                        <nz-form-label>Periodo de clases</nz-form-label>                        <nz-form-control [nzErrorTip]="classPeriodErrors">                            <nz-range-picker formControlName="classPeriod" nzFormat="dd/MM/yyyy"></nz-range-picker>                            <ng-template #classPeriodErrors let-control>                                <ng-container *ngIf="control.hasError(\'required\')">                                    El periodo de clases es obligatorio                                </ng-container>                            </ng-template>                        </nz-form-control>                    </nz-form-item>                    <button nz-button nzType="primary">Iniciar apertura del año escolar</button>                </div>            </form>            <!-- #endregion -->        </ng-container>        <ng-container *ngSwitchCase="\'En proceso de apertura\'">            <!-- #region Draft school year -->            <!-- Steps -->            <nz-steps [nzCurrent]="currentStep" nzProgressDot>                <nz-step nzTitle="Ciclos, grados y secciones"></nz-step>                <nz-step nzTitle="Coordinadores de ciclo"></nz-step>                <nz-step nzTitle="Docentes titulares"></nz-step>                <nz-step nzTitle="Orientadores"></nz-step>                <nz-step nzTitle="Finalizar"></nz-step>            </nz-steps>            <!-- Steps content -->            <div class="steps-content">                <div class="shifts">                    <!-- <nz-tabset nzTabPosition="left" [nzType]="\'line\'"> -->                    <!-- <nz-tab *ngFor="let shift of catalogs.shifts" [nzTitle]="shift.name"> -->                    <div class="step-content" [ngSwitch]="currentStep">                        <ng-container *ngSwitchCase="0">                            <app-academic-assignments [catalogs]="catalogs" [assignation]="schoolYear"                                [isActive]="false" (academicEvent)="updateItem($event)">                            </app-academic-assignments>                        </ng-container>                        <ng-container *ngSwitchCase="1">                            <app-cycle-coordinators [catalogs]="catalogs" [assignation]="schoolYear"                                [isValid]="emptyUsers.valid" (coordinatorsEvent)="updateCycleCoordinators($event)">                            </app-cycle-coordinators>                        </ng-container>                        <ng-container *ngSwitchCase="2">                            <app-head-teachers [catalogs]="catalogs" [assignation]="schoolYear"                                [isValid]="emptyUsers.valid" (headTeachersEvent)="updateHeadTeachers($event)">                            </app-head-teachers>                        </ng-container>                        <ng-container *ngSwitchCase="3">                            <app-counselors [catalogs]="catalogs" [assignation]="schoolYear"                            [isValid]="emptyUsers.valid" (counselorsEvent)="updateCounselors($event)"></app-counselors>                        </ng-container>                        <ng-container *ngSwitchCase="4">                            <app-new-school-year-summary [assignation]="schoolYear"></app-new-school-year-summary>                        </ng-container>                    </div>                    <!-- </nz-tab> -->                    <!-- </nz-tabset> -->                </div>            </div>            <!-- Steps actions -->            <div class="steps-action">                <button nz-button nzType="default" (click)="pre()" *ngIf="currentStep > 0">                    <span>Previo</span>                </button>                <button nz-button nzType="default" (click)="next()" *ngIf="currentStep < 4">                    <span>Siguiente</span>                </button>                <button nz-button nzType="primary" (click)="done()" *ngIf="currentStep === 4">                    <span>Finalizar</span>                </button>            </div>            <!-- #endregion -->        </ng-container>        <ng-container *ngSwitchCase="\'En curso\'">            <!-- #region Active school year -->            <nz-tabset>                <nz-tab nzTitle="Ciclos, grados y secciones">                    <div class="shifts">                        <app-academic-assignments [catalogs]="catalogs" [assignation]="schoolYear" [isActive]="true">                        </app-academic-assignments>                    </div>                </nz-tab>                <nz-tab nzTitle="Coordinadores de ciclo">                    <div class="shifts">                        <app-cycle-coordinators [catalogs]="catalogs" [assignation]="schoolYear"                            [isValid]="emptyUsers.valid" (coordinatorsEvent)="updateCycleCoordinators($event)">                        </app-cycle-coordinators>                        <div nz-row nzJustify="space-around">                            <button nz-button nzType="primary" (click)="cycleCoordinatorsStep(null)">Actualizar</button>                        </div>                    </div>                </nz-tab>                <nz-tab nzTitle="Docentes">                    <div class="shifts">                        <app-head-teachers [catalogs]="catalogs" [assignation]="schoolYear" [isValid]="emptyUsers.valid"                            (headTeachersEvent)="updateHeadTeachers($event)">                        </app-head-teachers>                                                <div nz-row nzJustify="space-around">                            <button nz-button nzType="primary" (click)="headTeachersStep(null)">Actualizar</button>                        </div>                    </div>                </nz-tab>                <nz-tab nzTitle="Orientadores">                    <div class="shifts">                        <app-counselors [catalogs]="catalogs" [assignation]="schoolYear"                            [isValid]="emptyUsers.valid" (counselorsEvent)="updateCounselors($event)">                        </app-counselors>                        <div nz-row nzJustify="space-around">                            <button nz-button nzType="primary" (click)="counselorsStep(null)">Actualizar</button>                        </div>                    </div>                </nz-tab>                <!-- <nz-tab nzTitle="Cerrar año escolar">                </nz-tab> -->            </nz-tabset>            <!-- #endregion -->        </ng-container>    </ng-container></nz-spin></div>'
    var COMPONENTS = [{'name': 'AcademicAssignmentsComponent', 'selector': 'app-academic-assignments'},{'name': 'AccessLogComponent', 'selector': 'app-access-log'},{'name': 'ActionsLogComponent', 'selector': 'app-actions-log'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'CounselorsComponent', 'selector': 'app-counselors'},{'name': 'CycleCoordinatorsComponent', 'selector': 'app-cycle-coordinators'},{'name': 'ForbiddenComponent', 'selector': 'app-forbidden'},{'name': 'HeadTeachersComponent', 'selector': 'app-head-teachers'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'LogsRootComponent', 'selector': 'app-logs-root'},{'name': 'MainNavComponent', 'selector': 'app-main-nav'},{'name': 'NewSchoolYearSummaryComponent', 'selector': 'app-new-school-year-summary'},{'name': 'NewStudentComponent', 'selector': 'app-new-student'},{'name': 'NotFoundComponent', 'selector': 'app-not-found'},{'name': 'ResetPasswordComponent', 'selector': 'app-reset-password'},{'name': 'ResetPswComponent', 'selector': 'app-reset-psw'},{'name': 'RoleComponent', 'selector': 'app-role'},{'name': 'RolesComponent', 'selector': 'app-roles'},{'name': 'SchoolYearComponent', 'selector': 'app-school-year'},{'name': 'SchoolYearEndSummaryComponent', 'selector': 'app-school-year-end-summary'},{'name': 'SecurityPoliciesComponent', 'selector': 'app-security-policies'},{'name': 'ServerErrorComponent', 'selector': 'app-server-error'},{'name': 'ShowCyclesComponent', 'selector': 'app-show-cycles'},{'name': 'ShowGradesComponent', 'selector': 'app-show-grades'},{'name': 'ShowPeriodsComponent', 'selector': 'app-show-periods'},{'name': 'ShowSectionsComponent', 'selector': 'app-show-sections'},{'name': 'ShowShiftComponent', 'selector': 'app-show-shift'},{'name': 'StudentComponent', 'selector': 'app-student'},{'name': 'StudentsAssignmentComponent', 'selector': 'app-students-assignment'},{'name': 'StudentsComponent', 'selector': 'app-students'},{'name': 'UnauthenticatedUsersComponent', 'selector': 'app-unauthenticated-users'},{'name': 'UnauthorizedComponent', 'selector': 'app-unauthorized'},{'name': 'UpdatePasswordComponent', 'selector': 'app-update-password'},{'name': 'UpdateStudentComponent', 'selector': 'app-update-student'},{'name': 'UploadStudentsComponent', 'selector': 'app-upload-students'},{'name': 'UploadUsersComponent', 'selector': 'app-upload-users'},{'name': 'UserComponent', 'selector': 'app-user'},{'name': 'UsersComponent', 'selector': 'app-users'},{'name': 'WelcomeComponent', 'selector': 'app-welcome'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'SchoolYearComponent'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'SchoolYearComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
