<nz-spin nzTip="Cargando ..." [nzSpinning]="loadingStudent">
    <div nz-row [nzGutter]="[20, 10]">

        <!-- Photo and links -->
        <div nz-col [nzXs]="{span: 12, offset: 0}" [nzMd]="{span: 10, offset: 2}" [nzLg]="{span: 8, offset: 4}" [nzXl]="{span: 6, offset: 6}">
            <div nz-row nzJustify="center">
                <ng-container *ngIf="student.currentPhoto; else defaultPhoto">
                    <nz-avatar [nzSize]="100" [nzSrc]="student.currentPhoto['path']"></nz-avatar>
                </ng-container>
                <ng-template #defaultPhoto>
                    <nz-avatar [nzSize]="100" nzIcon="user"></nz-avatar>
                </ng-template>
            </div>
            <div nz-row nzJustify="center" class="links">
                <a [target]="openLinkInOtherTab ? '_blank' : null" [routerLink]="['/estudiantes', student.id, 'detalle']">Perfil</a>
                <a [target]="openLinkInOtherTab ? '_blank' : null" [routerLink]="['/expedientes', 'estudiantes', student.id]">Expediente</a>
            </div>
            <div nz-row nzJustify="center" class="links">
                <a [target]="openLinkInOtherTab ? '_blank' : null" [routerLink]="['/historial', student.id]">Historial académico y conductual</a>
            </div>
        </div>
    
        <!-- Student basic data -->
        <div class="student-data" nz-col nzXs="12">
            <p>{{student.firstname}} {{student.lastname}}</p>
            <p>{{student.code}}</p>
            <p>Edad:  <strong>{{student.age}} años</strong></p>
            <p>Grado y sección:  <strong>{{student.grade?.name}} {{student.section?.name || '-'}}</strong></p>
            <p>Ingreso:  <strong>{{student.registrationYear}} ({{student.startedGrade?.name}})</strong></p>
        </div>

    </div>
</nz-spin>
