<div nz-col nzXs="23">
    <nz-table #fixedTable [nzData]="listOfData" nzSize="middle" nzTableLayout="auto" [nzFrontPagination]="false">
        <thead>
            <tr>
                <th nzLeft nzWidth="150px" nzAlign="center">Ciclo</th>
                <th nzLeft nzWidth="100px" nzAlign="center">Grado</th>
                <ng-container *ngFor="let section of sections">
                    <th nzAlign="center" *ngIf="section.active" [nzWidth]="section.name.length > 1 ? '100px' : '50px'">
                        {{ section.name }}
                    </th>
                </ng-container>
                
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let data of listOfData">
                <td nzLeft nzAlign="center">
                    <ng-container *ngIf="isActive;else editableCell">
                        {{ data.cycle.name }}
                    </ng-container>
                    <ng-template #editableCell>
                        <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Seleccionar" [(ngModel)]="data.cycle.id" (ngModelChange)="updateField($event, 'cycle', data)">
                            <nz-option *ngFor="let cycle of catalogs.cycles" [nzLabel]="cycle.name" [nzValue]="cycle.id"></nz-option>
                        </nz-select>
                    </ng-template>
                </td>
                <td nzLeft nzAlign="center">{{ data.grade.name }}</td>
                <ng-container *ngFor="let section of data.sections">
                    <ng-container *ngIf="isActive;else checkBoxCells">
                        <td nzAlign="center">
                            <i nz-icon [nzType]="'check-circle'" [nzTheme]="'twotone'" [nzTwotoneColor]="section.active ? '#ef6c00' : '#cecece'"></i>
                        </td>
                    </ng-container>
                    <ng-template #checkBoxCells>
                        <td nzAlign="center">
                            <label nz-checkbox [(ngModel)]="section.active" (ngModelChange)="updateField(section, 'section', data)"></label>
                        </td>
                    </ng-template>
                </ng-container>
            </tr>
        </tbody>
    </nz-table>
</div>
